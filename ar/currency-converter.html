<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>محول العملات – ريال سعودي، دولار، درهم، روبية وأكثر | حاسبة زكاة الذهب</title>
  <meta name="description" content="محول عملات مباشر لعملات شائعة: ريال سعودي، دولار أمريكي، درهم إماراتي، روبية باكستانية وهندية وغيرها. سريع ويدعم الجوال." />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <link rel="canonical" href="https://goldzakatcalc.com/ar/currency-converter.html" />
  <link rel="alternate" hreflang="ar" href="https://goldzakatcalc.com/ar/currency-converter.html" />
  <link rel="alternate" hreflang="en" href="https://goldzakatcalc.com/currency-converter.html" />
  <link rel="alternate" hreflang="x-default" href="https://goldzakatcalc.com/currency-converter.html" />

  <!-- OG/Twitter -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="حاسبة زكاة الذهب" />
  <meta property="og:title" content="محول العملات – مباشر وسريع" />
  <meta property="og:description" content="حوّل العملة بأسعار محدثة تلقائيًا. يدعم العملات الأكثر استخدامًا." />
  <meta property="og:url" content="https://goldzakatcalc.com/ar/currency-converter.html" />
  <meta property="og:image" content="https://goldzakatcalc.com/og-default.jpg" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z1C2Y7GSZ5"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config','G-Z1C2Y7GSZ5',{'page_path': location.pathname});
  </script>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- JSON-LD FAQ -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"كل متى يتم تحديث الأسعار؟","acceptedAnswer":{"@type":"Answer","text":"يتم جلب الأسعار من exchangerate.host وتخزينها محليًا لمدة 12 ساعة. عند عدم الاتصال يستخدم آخر سعر مخزن."}},
      {"@type":"Question","name":"ما هي العملات المتاحة؟","acceptedAnswer":{"@type":"Answer","text":"يدعم ريال سعودي، دولار أمريكي، درهم إماراتي، روبية باكستانية وهندية، يورو، جنيه إسترليني، دينار كويتي، ريال قطري، دينار بحريني، ريال عُماني. ويمكن إضافة المزيد."}}
    ]
  }
  </script>
</head>
<body class="bg-gray-50 text-gray-800">
  <header class="border-b bg-white">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <a href="/ar/" class="font-semibold text-lg">حاسبة زكاة الذهب</a>
      <nav class="space-x-4 space-x-reverse text-sm">
        <a class="text-blue-700" href="/ar/zakat-calculator.html">الزكاة</a>
        <a class="text-blue-700" href="/ar/vat-calculator.html">ضريبة القيمة المضافة</a>
        <a class="text-blue-700 font-semibold" href="/ar/currency-converter.html">محول العملات</a>
        <a class="text-blue-700" href="/ar/gold-prices.html">أسعار الذهب</a>
        <a class="text-gray-600" href="/ar/about.html">عن الموقع</a>
        <a class="text-gray-600" href="/ar/contact.html">اتصال</a>
        <a class="text-gray-600" href="/ar/privacy.html">الخصوصية</a>
        <a class="text-gray-600" href="/ar/terms.html">الشروط</a>
        <a class="text-gray-600" href="/currency-converter.html" rel="alternate" hreflang="en">English</a>
      </nav>
    </div>
  </header>

  <main class="max-w-3xl mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-2">محول العملات</h1>
    <p class="text-gray-600 mb-6">تحويل مباشر للعملات الشائعة. يتم تحديث الأسعار تلقائيًا وتخزينها لمدة 12 ساعة.</p>

    <div id="notice" class="hidden mb-4 rounded-lg border border-yellow-300 bg-yellow-50 text-yellow-700 text-sm p-3"></div>

    <section class="bg-white rounded-xl shadow-sm p-5">
      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm mb-1">المبلغ</label>
          <input id="amount" type="number" step="any" min="0" value="1" class="w-full border rounded-lg px-3 py-2">
        </div>
        <div class="md:pt-6">
          <button id="swap" class="mt-2 md:mt-0 w-full md:w-auto border rounded-lg px-3 py-2 hover:bg-gray-50">تبديل ⇄</button>
        </div>

        <div>
          <label class="block text-sm mb-1">من</label>
          <select id="from" class="w-full border rounded-lg px-3 py-2"></select>
        </div>
        <div>
          <label class="block text-sm mb-1">إلى</label>
          <select id="to" class="w-full border rounded-lg px-3 py-2"></select>
        </div>
      </div>

      <div class="mt-6">
        <button id="convert" class="w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-4 py-2">تحويل</button>
      </div>

      <div class="mt-6">
        <h2 class="text-xl font-semibold mb-2">النتيجة</h2>
        <div id="result" class="text-2xl font-mono">—</div>
        <div class="text-sm text-gray-500 mt-2">
          <span id="updated">آخر تحديث: —</span>
          · <button id="copyBtn" class="underline">نسخ</button>
        </div>
      </div>

      <div class="mt-6">
        <h3 class="font-semibold mb-2 text-sm">اختيارات سريعة</h3>
        <div id="quick" class="flex flex-wrap gap-2 text-sm"></div>
      </div>
    </section>
  </main>

  <footer class="mt-12 border-t bg-white">
    <div class="max-w-6xl mx-auto px-4 py-6 text-sm flex flex-wrap gap-3 justify-between">
      <div>© <span id="year"></span> حاسبة زكاة الذهب.</div>
      <div class="space-x-3 space-x-reverse">
        <a class="text-gray-600" href="/ar/privacy.html">الخصوصية</a>
        <a class="text-gray-600" href="/ar/terms.html">الشروط</a>
        <a class="text-gray-600" href="/ar/contact.html">اتصال</a>
      </div>
    </div>
  </footer>

  <script>
  document.getElementById('year').textContent = new Date().getFullYear();

  const CURRENCIES=['SAR','USD','AED','PKR','INR','EUR','GBP','KWD','QAR','BHD','OMR'];
  const NICE={
    SAR:'ريال سعودي', USD:'دولار أمريكي', AED:'درهم إماراتي', PKR:'روبية باكستانية',
    INR:'روبية هندية', EUR:'يورو', GBP:'جنيه إسترليني', KWD:'دينار كويتي',
    QAR:'ريال قطري', BHD:'دينار بحريني', OMR:'ريال عُماني'
  };
  const QUICK=['SAR','USD','AED','PKR','INR','EUR','GBP'];

  const $from=document.getElementById('from');
  const $to=document.getElementById('to');
  const $amount=document.getElementById('amount');
  const $result=document.getElementById('result');
  const $updated=document.getElementById('updated');
  const $notice=document.getElementById('notice');

  function option(c){const o=document.createElement('option');o.value=c;o.textContent=`${c} — ${NICE[c]||c}`;return o;}
  CURRENCIES.forEach(c=>{ $from.appendChild(option(c)); $to.appendChild(option(c)); });
  $from.value='USD'; $to.value='SAR';

  const $quick=document.getElementById('quick');
  QUICK.forEach(c=>{ const b=document.createElement('button'); b.className='border rounded px-2 py-1 hover:bg-gray-50'; b.textContent=c; b.onclick=()=>{ $to.value=c; convert(); }; $quick.appendChild(b); });

  const KEY='fx_usd_rates_v1'; const TTL=12*60*60*1000;

  async function fetchRatesUSD(){
    const r=await fetch('https://api.exchangerate.host/latest?base=USD');
    if(!r.ok) throw new Error('fetch fail'); const j=await r.json();
    if(!j || !j.rates) throw new Error('bad data'); return {ts:Date.now(), rates:j.rates};
  }
  async function getRates(){
    try{
      const cached=JSON.parse(localStorage.getItem(KEY)||'null');
      if(cached && (Date.now()-cached.ts)<TTL) return cached;
      const fresh=await fetchRatesUSD(); localStorage.setItem(KEY, JSON.stringify(fresh)); return fresh;
    }catch(e){
      const cached=JSON.parse(localStorage.getItem(KEY)||'null');
      if(cached){ show('سيتم استخدام الأسعار المخزنة مؤقتًا.'); return cached; }
      throw e;
    }
  }
  function show(m){ $notice.textContent=m; $notice.classList.remove('hidden'); }

  async function convert(){
    const amt=parseFloat($amount.value||'0'); if(!(amt>=0)){ $result.textContent='—'; return; }
    try{
      const {ts, rates}=await getRates(); const f=$from.value, t=$to.value;
      if(!rates[f] || !rates[t]){ $result.textContent='—'; show('السعر غير متاح للعملة المختارة.'); return; }
      const out=amt*(rates[t]/rates[f]);
      $result.textContent=`${amt.toLocaleString()} ${f} = ${out.toLocaleString(undefined,{maximumFractionDigits:6})} ${t}`;
      $updated.textContent=`آخر تحديث: ${new Date(ts).toLocaleString()}`;
    }catch(e){ show('تعذر جلب الأسعار الآن.'); $result.textContent='—'; }
  }

  document.getElementById('convert').addEventListener('click', convert);
  document.getElementById('swap').addEventListener('click', ()=>{ const tmp=$from.value; $from.value=$to.value; $to.value=tmp; convert(); });
  document.getElementById('copyBtn').addEventListener('click', ()=>{ navigator.clipboard.writeText($result.textContent||''); });

  ['change','keyup'].forEach(ev=>{
    $amount.addEventListener(ev, ()=>{ if($amount.value!=='') convert(); });
    $from.addEventListener(ev, convert); $to.addEventListener(ev, convert);
  });
  convert();
  </script>
</body>
</html>
